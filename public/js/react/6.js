(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{254:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return y}));var n=t(86),r=t.n(n),l=t(0),o=t.n(l),c=(t(3),t(5),t(2)),m=(t(12),t(6)),u=t.n(m),s=t(4),i=t(1);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?h(Object(t),!0).forEach((function(a){f(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function f(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function _(e,a){for(var t=0;t<a.length;t++){var n=a[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,a){return(p=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function g(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=C(e);if(a){var r=C(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return b(this,t)}}function b(e,a){return!a||"object"!==d(a)&&"function"!=typeof a?v(e):a}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&p(e,a)}(m,e);var a,t,n,l=g(m);function m(e){var a;return function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,m),(a=l.call(this,e)).state={data:{empid:"",teacher_name:"",gender:"male",relative_name:"",email:"",contact_no:"",qualification:"",address:"",dob:"",blood_group:"",aadhar_card:"",bank_name:"",bank_number:"",pf_no:"",pf_amount:"",da_amount:"",hra_amount:"",salary_remark:"",casual_leave:"",sick_leave:"",pay_earn_leave:"",other_leave:"",emp_photo:"",id_proof:"",experience_letter:"",other_documents1:"",other_documents2:"",salary:"",send_sms:!0},errors:{},button_text:"Add"},a.toggleSmsChange=a.toggleSmsChange.bind(v(a)),a.onChange=a.onChange.bind(v(a)),a.onSubmit=a.onSubmit.bind(v(a)),a.onFileChange=a.onFileChange.bind(v(a)),a.makeInputNull=a.makeInputNull.bind(v(a)),a}return a=m,(t=[{key:"onFileChange",value:function(e){var a=e.target,t=a.name,n=a.files[0];this.setState({data:E(E({},this.state.data),{},f({},t,n))})}},{key:"validate",value:function(e){var a={};return e.empid||(a.empid="Can't be blank"),e.teacher_name||(a.teacher_name="Can't be blank"),e.gender||(a.gender="Can't be blank"),e.relative_name||(a.relative_name="Can't be blank"),e.email||(a.email="Can't be blank"),e.contact_no||(a.contact_no="Can't be blank"),e.qualification||(a.qualification="Can't be blank"),e.address||(a.address="Can't be blank"),e.salary||(a.salary="Can't be blank"),e.dob||(a.dob="Can't be blank"),e.date_of_joining||(a.date_of_joining="Can't be blank"),e.teacher_name.length<3&&(a.teacher_name="Min. Length 3 char."),e.relative_name.length<3&&(a.relative_name="Min. Length 3 char."),e.address.length<3&&(a.address="Min. Length 5 char."),10!=e.contact_no.length&&(a.contact_no="Invalid Contact No."),r.a.isMobilePhone(e.contact_no)||(a.contact_no="Invalid Contact No."),a}},{key:"onSubmit",value:function(e){var a=this;e.preventDefault();var t=this.state,n=(t.data,t.edit),r=this.validate(this.state.data);this.setState({errors:r});var l=new FormData;Object.keys(this.state.data).map((function(e){l.append(e,a.state.data[e])})),0===Object.keys(r).length&&(n?this.setState({button_text:"Updating .."}):this.setState({button_text:"Adding .."}),u.a.fire({title:"Are you sure?",text:"Add Teacher in System",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showLoaderOnConfirm:!0,confirmButtonText:"Yes, process it!",preConfirm:function(){return a.props.submit(l).then((function(e){return e})).catch((function(e){400==e.response.status?u.a.fire("Error Occured","Validation Error","error"):e.response.status&&(u.a.fire("Error Occured","Validation Error","warning"),a.setState({errors:e.response.data.errors}))}))}}).then((function(e){e.hasOwnProperty("value")&&(e.value.hasOwnProperty("error")&&u.a.fire("Error","Error Occured in Process. Please check the Data","error"),e.value.hasOwnProperty("message")&&(n||a.makeInputNull(),u.a.fire("Success",e.value.message,"success")),n?a.setState({button_text:"Update"}):a.setState({button_text:"Add"}))})))}},{key:"makeInputNull",value:function(){this.setState({data:{empid:"",teacher_name:"",gender:"male",relative_name:"",email:"",contact_no:"",qualification:"",address:"",dob:"",blood_group:"",aadhar_card:"",bank_name:"",bank_number:"",pf_no:"",pf_amount:"",da_amount:"",hra_amount:"",salary_remark:"",casual_leave:"",sick_leave:"",pay_earn_leave:"",other_leave:"",emp_photo:"",id_proof:"",experience_letter:"",other_documents1:"",other_documents2:"",salary:"",date_of_join:"",send_sms:!0}})}},{key:"toggleSmsChange",value:function(){this.setState({data:E(E({},this.state.data),{},f({},"send_sms",!this.state.data.send_sms))})}},{key:"componentDidMount",value:function(){var e=this.props.data;null!=e&&this.setState({data:e,button_text:"Update",edit:!0})}},{key:"onChange",value:function(e){this.setState({data:E(E({},this.state.data),{},f({},e.target.name,e.target.value))})}},{key:"render",value:function(){var e=this,a=this.state,t=a.data,n=a.errors,r=a.button_text,l=this.props,m=l.title,u=l.back_link;return o.a.createElement(c.default,{title:m,back_link:u},o.a.createElement(i.j,null,"Personal Information:"),o.a.createElement(s.default,null,o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Empid: "),o.a.createElement(i.f,{errors:n,name:"empid",onChange:this.onChange,value:t.empid||""}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Teacher Name*"),o.a.createElement(i.f,{errors:n,name:"teacher_name",value:t.teacher_name||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Husband/Father Name*"),o.a.createElement(i.f,{errors:n,name:"relative_name",value:t.relative_name||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Email*"),o.a.createElement(i.f,{errors:n,name:"email",value:t.email||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Gender*"),o.a.createElement(i.k,{errors:n,name:"gender",value:t.gender,onChange:this.onChange},o.a.createElement(i.l,null,"-- Select --"),o.a.createElement(i.l,{value:"male"},"Male"),o.a.createElement(i.l,{value:"female"},"Female"),o.a.createElement(i.l,{value:"other"},"Other")))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Contact No*"),o.a.createElement(i.f,{errors:n,name:"contact_no",value:t.contact_no||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Address*"),o.a.createElement(i.f,{errors:n,name:"address",value:t.address||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Qualification"),o.a.createElement(i.f,{errors:n,name:"qualification",value:t.qualification||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Dob*"),o.a.createElement(i.f,{type:"date",errors:n,name:"dob",value:t.dob||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Blood Group*"),o.a.createElement(i.f,{errors:n,name:"blood_group",value:t.blood_group||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Date of Joining*"),o.a.createElement(i.f,{errors:n,type:"date",name:"date_of_joining",value:t.date_of_joining||"",onChange:this.onChange})))),o.a.createElement(i.j,null,"Documents"),o.a.createElement(s.default,null,o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Aadhar Card"),o.a.createElement(i.f,{errors:n,name:"aadhar_card",value:t.aadhar_card||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Bank Name"),o.a.createElement(i.f,{errors:n,name:"bank_name",value:t.bank_name||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Bank Number"),o.a.createElement(i.f,{errors:n,name:"bank_number",value:t.bank_number||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Pan Card Number"),o.a.createElement(i.f,{errors:n,name:"pan_card_number",value:t.pan_card_number||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Teacher Photo"),o.a.createElement(i.p,{name:"emp_photo",value:t.emp_photo,onChange:this.onFileChange}),o.a.createElement(i.i,{url:t.emp_photo}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Experience Letter"),o.a.createElement(i.p,{name:"experience_letter",value:t.experience_letter,onChange:this.onFileChange}),o.a.createElement(i.i,{url:t.experience_letter}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"ID Proof"),o.a.createElement(i.p,{name:"id_proof",value:t.id_proof,onChange:this.onFileChange}),o.a.createElement(i.i,{url:t.id_proof}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Other Documents 1"),o.a.createElement(i.p,{name:"other_documents1",value:t.other_documents1,onChange:this.onFileChange}),o.a.createElement(i.i,{url:t.other_documents1}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Other Documents 2"),o.a.createElement(i.p,{name:"other_documents2",value:t.other_documents2,onChange:this.onFileChange}),o.a.createElement(i.i,{url:t.other_documents2})))),o.a.createElement(i.j,null,"Salary Details:"),o.a.createElement(s.default,null,o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Salary*"),o.a.createElement(i.f,{errors:n,name:"salary",value:t.salary||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"PF No."),o.a.createElement(i.f,{errors:n,name:"pf_no",value:t.pf_no||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"PF Amount"),o.a.createElement(i.f,{errors:n,name:"pf_amount",value:t.pf_amount||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"TDS Amount"),o.a.createElement(i.f,{errors:n,name:"tds_amount",value:t.tds_amount||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Professional TAX Amount"),o.a.createElement(i.f,{errors:n,name:"professional_tax",value:t.professional_tax||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"DA Amount"),o.a.createElement(i.f,{errors:n,name:"da_amount",value:t.da_amount||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"HRA Amount "),o.a.createElement(i.f,{errors:n,name:"hra_amount",value:t.hra_amount||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Salary Remark "),o.a.createElement(i.f,{errors:n,name:"salary_remark",value:t.salary_remark||"",onChange:this.onChange})))),o.a.createElement(i.j,null,"Leave Details"),o.a.createElement(s.default,null,o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Casual Leave "),o.a.createElement(i.f,{errors:n,name:"casual_leave",value:t.casual_leave||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Pay/Earn Leave "),o.a.createElement(i.f,{errors:n,name:"pay_earn_leave",value:t.pay_earn_leave||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Sick Leave "),o.a.createElement(i.f,{errors:n,name:"sick_leave",value:t.sick_leave||"",onChange:this.onChange}))),o.a.createElement(i.c,{md:"4",sm:"6"},o.a.createElement(i.d,null,o.a.createElement(i.e,null,"Other Leave "),o.a.createElement(i.f,{errors:n,name:"other_leave",value:t.other_leave||"",onChange:this.onChange})))),o.a.createElement(s.default,null,!t.id&&o.a.createElement(s.default,null,o.a.createElement(i.m,null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(i.e,null,"Check for Sms Message")),o.a.createElement("td",null,o.a.createElement("input",{type:"checkbox",checked:t.send_sms,onChange:function(a){return e.toggleSmsChange()}}))))))),o.a.createElement(s.default,null,o.a.createElement(i.a,{primary:!0,onClick:this.onSubmit},r)))}}])&&_(a.prototype,t),n&&_(a,n),m}(l.Component)}}]);