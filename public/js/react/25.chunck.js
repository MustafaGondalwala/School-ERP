(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{345:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(2),u=n(3),a=n(47),c=n.n(a),s=n(1),l=n(5),f=n(100),m=n.n(f),d=n(101),h=n.n(d),p=n(6),b=n.n(p);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){w(n,e);var t=_(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).state={homework_submission:"",check:""},r.updateHomeWorkSubmission=r.updateHomeWorkSubmission.bind(C(r)),r}return S(n,[{key:"fetchSubmission",value:function(e){var t=this;u.a.teacher.homework.get_submission(e).then((function(e){var n=e.homework_submission;t.setState({homework_submission:n})}))}},{key:"componentDidMount",value:function(){var e=this.props.homework_id;this.fetchSubmission(e)}},{key:"componentWillReceiveProps",value:function(){var e=this.props.homework_id;this.fetchSubmission(e)}},{key:"viewSubmition",value:function(e){this.setState({check:e})}},{key:"fetchStatus",value:function(e){switch(e){case 1:return"Pending";case 2:return"Completed";case 3:return"Issue Raised";case 4:return"Submitted";case 5:return"Rejected"}}},{key:"updateHomeWorkSubmission",value:function(e,t){var n=this;return u.a.teacher.homework.homework_check(e,t).then((function(e){n.setState({check:""})})).catch((function(e){b.a.fire("Error Occured","Error Occured in Process. Try again Later","error")}))}},{key:"render",value:function(){var e=this,t=[{name:"Sr no.",selector:"id",sortable:!0},{name:"Student Roll No",sortable:!0,cell:function(e){return o.a.createElement("div",null,e.student.roll_no)}},{name:"Student Name",sortable:!0,right:!0,cell:function(e){return o.a.createElement("div",null,e.student.student_name)}},{name:"Status",sortable:!0,right:!0,cell:function(t){return o.a.createElement("div",null,e.fetchStatus(t.status))}},{name:"Check",cell:function(t){return o.a.createElement("div",null,o.a.createElement(s.a,{onClick:function(n){return e.viewSubmition(t)},primary:!0,sm:!0},"Check"))}}],n=this.state,r=n.homework_submission,u=n.check;return o.a.createElement("div",null,o.a.createElement(i.default,{title:"HomeWork Submission"},o.a.createElement(c.a,{title:null,columns:t,data:r})),u&&o.a.createElement(j,{updateHomeWorkSubmission:this.updateHomeWorkSubmission,data:u}))}}]),n}(r.Component),j=function(e){w(n,e);var t=_(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).submit=r.submit.bind(C(r)),r}return S(n,[{key:"submit",value:function(e){var t=this;b.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(n){if(n.value){var r=t.props.data;t.props.updateHomeWorkSubmission(e,r.id).then((function(e){console.log(e),b.a.fire("Success","Student HomeWork Updated !!","success")}))}}))}},{key:"render",value:function(){var e=this,t=this.props.data,n="Submission: "+t.student.student_name,r=t.description,u=t.files;return o.a.createElement(i.default,{title:n},o.a.createElement(l.default,null,o.a.createElement(s.c,null,o.a.createElement(s.d,null,o.a.createElement(s.e,null,"Description"),o.a.createElement(m.a,{disabled:!0,editor:h.a,data:r,onChange:function(t,n){var r=n.getData();e.setState({description:r})},onInit:function(e){e.setData(r)}})),o.a.createElement(s.d,null,o.a.createElement(s.j,{files:u})),o.a.createElement(s.d,null,o.a.createElement(s.a,{success:!0,onClick:function(t){return e.submit(1)}},"Correct"),o.a.createElement(s.a,{danger:!0,onClick:function(t){return e.submit(2)}},"Reject")))))}}]),n}(r.Component);t.default=R}}]);