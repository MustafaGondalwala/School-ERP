(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{241:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(0),r=n.n(a),s=n(2),i=n(3),o=n(6),c=n.n(o);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){d(n,e);var t=_(n);function n(e){var a;return u(this,n),(a=t.call(this,e)).state={fee_class_wise:"",updateClassWise:[],update_button:"Update Fees"},a.feeTypeAmount=a.feeTypeAmount.bind(h(a)),a.updateClassWiseFee=a.updateClassWiseFee.bind(h(a)),a}return p(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fee_class_wise,n=e.class_id,a=e.year_id;this.setState({fee_class_wise:t,class_id:n,year_id:a})}},{key:"feeTypeAmount",value:function(e,t){var n=e.target.value,a=e.target.getAttribute("data-fee_type_id"),r=this.state.updateClassWise,s=this.state.fee_class_wise;s[t].map((function(e){e.fee_type_id==a&&(e.amount=n)})),this.setState({fee_class_wise:s,updateClassWise:r})}},{key:"updateClassWiseFee",value:function(e){var t=this;e.fee_class_wise=this.state.fee_class_wise,e.class_id=this.state.class_id,e.year_id=this.state.year_id,this.setState({update_button:"Updating Fees ...",fee_class_wise:""},(function(){c.a.fire("Please wait ...","Updaing Fees ..","info")})),i.a.admin.fee.update_class_wise_fees(e).then((function(e){t.setState({fee_class_wise:e.fee_class_wise,update_button:"Update Fees"}),c.a.fire("Done","Fee Class Wise Updated !!","success")})).catch((function(e){c.a.fire("Error Occured","Error Occured while processing the data.","error"),t.setState({update_button:"Update Fees"})}))}},{key:"render",value:function(){var e=this,t=this.state.fee_class_wise;return r.a.createElement("div",null,t&&Object.keys(t).map((function(n){return r.a.createElement(E,{installment_label:n,feeTypeAmount:e.feeTypeAmount,installment_wise:t[n]})})),t&&r.a.createElement(w,{update_button:this.state.update_button,updateClassWiseFee:this.updateClassWiseFee}))}}]),n}(a.Component),w=function(e){d(n,e);var t=_(n);function n(e){var a;return u(this,n),(a=t.call(this,e)).state={overwrite:!1,send_message:!0},a}return p(n,[{key:"handleChange",value:function(e){var t,n,a;this.setState((t={},n=e.target.name,a=e.target.checked,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.overwrite,a=t.send_message,i=this.props.update_button;return r.a.createElement(s.default,{title:"Update Class Wise Fees"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"checkbox-inline"},r.a.createElement("input",{type:"checkbox",checked:n,onChange:function(t){return e.handleChange(t)},name:"overwrite"}),"  Overwrite Existing Indivitual Student Fee"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"checkbox-inline"},r.a.createElement("input",{type:"checkbox",checked:a,onChange:function(t){return e.handleChange(t)},name:"send_message"}),"  Send Message to Parents"))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.props.updateClassWiseFee({overwrite:n,send_message:a})}},i)))}}]),n}(a.Component),E=function(e){var t=e.installment_label,n=e.installment_wise,a=e.feeTypeAmount;return r.a.createElement(s.default,{title:"".concat(t," Fees:")},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr No."),r.a.createElement("th",null,"Fee Type"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,n.map((function(e,n){return r.a.createElement("tr",null,r.a.createElement("td",null,n+1),r.a.createElement("td",null,e.fee_type_id),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"0","data-fee_type_id":e.fee_type_id,className:"form-control",onChange:function(e){return a(e,t)},value:e.amount})))}))))))}}}]);