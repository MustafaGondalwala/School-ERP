(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{247:function(e,t,a){"use strict";a.r(t);var n=a(13),l=a.n(n),r=a(0),c=a.n(r),o=a(2),s=a(3),u=a(140);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,a,n,l,r,c){try{var o=e[r](c),s=o.value}catch(e){return void a(e)}o.done?t(s):Promise.resolve(s).then(n,l)}function m(e){return function(){var t=this,a=arguments;return new Promise((function(n,l){var r=e.apply(t,a);function c(e){f(r,n,l,c,o,"next",e)}function o(e){f(r,n,l,c,o,"throw",e)}c(void 0)}))}}function p(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=b(e);if(t){var l=b(this).constructor;a=Reflect.construct(n,arguments,l)}else a=n.apply(this,arguments);return h(this,a)}}function h(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(w,e);var t,a,n,r,i,f,h,b,E=v(w);function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=E.call(this,e)).state={staff_id:"",select_month:"",total_present:0,total_absent:0,total_leave:0,total_half_leave:0,total_none:0,chart_type:"pie",staff_details:"",details_fetch:""},t}return t=w,(a=[{key:"updateDatapoints",value:(b=m(l.a.mark((function e(t){var a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,n=0,r=0,c=0,t.map((function(e){switch(e.status){case 1:a=e.total;break;case 2:n=e.total;break;case 3:r=e.total;break;case 4:e.total;break;case 5:c=e.total}})),this.setState({total_leave:r,total_present:a,total_absent:n,total_none:c});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"fetchData",value:(h=m(l.a.mark((function e(t,a){var n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.adminteacher.staff_attendance.get_individual(t,a).then((function(e){var t=e.attendance_details,a=e.staff_details,l=e.details_fetch;n.updateDatapoints(t),n.setState({staff_details:a,details_fetch:l})}));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})},{key:"updateStudentInfo",value:(f=m(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.data,a=t.staff_id,n=t.select_month,this.setState({staff_id:a,select_month:n}),this.fetchData(a,n);case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"componentWillMount",value:(i=m(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateStudentInfo();case 1:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"componentWillReceiveProps",value:(r=m(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateStudentInfo();case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,a=t.staff_details,n=t.details_fetch,l=this.state,r=(l.staff_id,l.select_month),s=l.chart_type,i=this.state,f=i.total_present,m=i.total_absent,p=i.total_leave,d=i.total_none,v=i.total_half_leave,h=[{y:f,label:"Total Present"},{y:m,label:"Total Absent"},{y:p,label:"Total Leave"},{y:v,label:"Total Half Leave"},{y:d,label:"Total None Entry"}];return c.a.createElement("div",null,n&&c.a.createElement(y,{details_fetch:n}),c.a.createElement(o.default,{title:"Student Attendance Report"},a&&c.a.createElement(_,{staff_details:a}),c.a.createElement("br",null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("label",null,c.a.createElement("h5",null,"Present Student:")),c.a.createElement("input",{type:"text",disabled:!0,value:f,className:"form-control"})),c.a.createElement("div",{className:"col"},c.a.createElement("label",null,c.a.createElement("h5",null,"Leave Student:")),c.a.createElement("input",{type:"text",disabled:!0,value:p,className:"form-control"})),c.a.createElement("div",{className:"col"},c.a.createElement("label",null,c.a.createElement("h5",null,"Absent Student:")),c.a.createElement("input",{type:"text",disabled:!0,value:m,className:"form-control"})),c.a.createElement("div",{className:"col"},c.a.createElement("label",null,c.a.createElement("h5",null,"Attendance Half Leave:")),c.a.createElement("input",{type:"text",disabled:!0,value:v,className:"form-control"})),c.a.createElement("div",{className:"col"},c.a.createElement("label",null,c.a.createElement("h5",null,"Attendance Pending:")),c.a.createElement("input",{type:"text",disabled:!0,value:d,className:"form-control"}))),c.a.createElement("br",null),c.a.createElement("div",{className:"row"},c.a.createElement("label",{className:"form-control-label"},"Chart Type"),c.a.createElement("select",{defaultValue:"pie",onChange:function(t){e.setState({chart_type:t.target.value})},className:"form-control"},c.a.createElement("option",{value:"pie"},"Pie"),c.a.createElement("option",{value:"line"},"Line"),c.a.createElement("option",{value:"bar"},"Bar"),c.a.createElement("option",{value:"area"},"Area"),c.a.createElement("option",{value:"doughnut"},"Doughnut"),c.a.createElement("option",{value:"scatter"},"Scatter"))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:"row"},c.a.createElement(u.default,{title:"Student Attendance for ".concat(r),filename:"individual_student",type:s,dataPoints:h}))))}}])&&p(t.prototype,a),n&&p(t,n),w}(r.Component),y=function(e){var t=e.details_fetch;return console.log(t),c.a.createElement(o.default,{title:"Month Attendance"},c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Sr.no "),c.a.createElement("th",null,"Date "),c.a.createElement("th",null,"Attendance Status "))),c.a.createElement("tbody",null,t&&t.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.attendance_date),c.a.createElement("td",null,function(e){switch(e){case 1:return"Present";case 2:return"Absent";case 3:return"Leave";case 4:return"Half Leave";case 5:return"None"}}(e.status)))}))))))},_=function(e){var t=e.staff_details;return c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("label",{className:"form-control-label"},"Staff Name: "),c.a.createElement("input",{type:"text",className:"form-control",disabled:!0,defaultValue:t.staff_name})),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("label",{className:"form-control-label"},"Relative Name "),c.a.createElement("input",{type:"text",className:"form-control",disabled:!0,defaultValue:t.relative_name})),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("label",{className:"form-control-label"},"Contact Number "),c.a.createElement("input",{type:"text",className:"form-control",disabled:!0,defaultValue:t.contact_no}))))};t.default=E}}]);