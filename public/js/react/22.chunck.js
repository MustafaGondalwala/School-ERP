(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{366:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var a=n(0),r=n.n(a),i=(n(3),n(2)),o=n(1),l=n(92),c=n.n(l),u=n(6),s=n(14),p=n(5),f=n.n(p);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){v(n,e);var t=_(n);function n(e){var a;return y(this,n),(a=t.call(this,e)).state={add:!1,new_fee_type_loading:!1,edit:""},a.newFeeType=a.newFeeType.bind(E(a)),a.updateFeeType=a.updateFeeType.bind(E(a)),a.changeStatus=a.changeStatus.bind(E(a)),a.eventType=a.eventType.bind(E(a)),a}return h(n,[{key:"newFeeType",value:function(e){var t=this;f.a.fire({title:"Are you sure?",text:"You able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Add Fee Type it!"}).then((function(n){if(n.value){var a=t.props.class_id;t.setState({new_fee_type_loading:!0}),t.props.submitNewFeeType(a,e).catch((function(e){if(e.response){var n=e.response,a=n.data;if(422==n.status){var r=a.error.message;f.a.fire("Invalid Fee Type",r,"warning")}}t.setState({new_fee_type_loading:!1})}))}}))}},{key:"updateFeeType",value:function(e,t){var n=this;f.a.fire({title:"Are you sure?",text:"You able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Update Fee Type it!"}).then((function(a){if(a.value){var r=n.props.class_id;n.setState({new_fee_type_loading:!0}),n.props.submitUpdateFeeType(r,e,t).catch((function(e){if(e.response){var t=e.response,a=t.data;if(422==t.status){var r=a.error.message;f.a.fire("Invalid Fee Type",r,"warning")}}n.setState({new_fee_type_loading:!1})}))}}))}},{key:"changeStatus",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}},{key:"eventType",value:function(e,t){var n=this;switch(e){case"edit":this.changeStatus("add",!1),this.setState({edit:""},(function(){n.setState({edit:t})}));break;case"add":this.changeStatus("add",!0),this.changeStatus("edit","")}}},{key:"removeFeeType",value:function(e){var t=this;f.a.fire({title:"Are you sure?",text:"You wont able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete Fee Type it!"}).then((function(n){if(n.value){var a=t.props.class_id;t.setState({new_fee_type_loading:!0}),t.props.submitDeleteFeeType(a,e).catch((function(e){if(e.response){var n=e.response,a=n.data;if(422==n.status){var r=a.error.message;f.a.fire("Invalid Fee Type",r,"warning")}}t.setState({new_fee_type_loading:!1})}))}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.add,a=t.new_fee_type_loading,l=t.edit,u=(t.type,this.props),s=(u.class_id,u.fee_type);return r.a.createElement("span",null,n&&r.a.createElement(F,{title:"Add Fee Type",loading:a,type:"add",submit:this.newFeeType}),l&&r.a.createElement(F,{data:l,title:"Edit Fee Type",loading:a,type:"edit",submit:this.updateFeeType}),r.a.createElement(i.default,{title:"Class Fee Type",add_object:{text:"Add",clickFunction:function(){return e.eventType("add",!0)}}},r.a.createElement(o.o,null,r.a.createElement(o.p,null,r.a.createElement("th",null,"Sr no."),r.a.createElement("th",null,"Fee Type"),r.a.createElement("th",null,"Actions")),r.a.createElement("tbody",null,s&&s.map((function(t,n){return r.a.createElement("tr",{key:c.a.generate()},r.a.createElement("td",null,n+1),r.a.createElement("td",null,t.fee_type),r.a.createElement("td",{className:"table-actions"},r.a.createElement("a",{href:"#!",onClick:function(n){return e.eventType("edit",t)},className:"table-action","data-toggle":"tooltip","data-original-title":"Edit Fee Type"},r.a.createElement("i",{className:"fas fa-user-edit"})),r.a.createElement("a",{href:"#!",onClick:function(n){return e.removeFeeType(t.id)},className:"table-action table-action-delete","data-toggle":"tooltip","data-original-title":"Delete Fee Type"},r.a.createElement("i",{className:"fas fa-trash"}))))}))))))}}]),n}(a.Component),F=function(e){v(n,e);var t=_(n);function n(e){var a;return y(this,n),(a=t.call(this,e)).state={fee_type:"",id:"",type:"",error:""},a.submit=a.submit.bind(E(a)),a}return h(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.type;t?this.setState({id:t.id,fee_type:t.fee_type,type:n}):this.setState({type:n})}},{key:"submit",value:function(){var e=this.state,t=e.fee_type,n=e.id;""==t?this.setState({error:"Can't be Blank"}):(this.setState({error:""}),""==n?this.props.submit(t):this.props.submit(t,n))}},{key:"render",value:function(){var e=this,t=this.state,n=t.fee_type,a=t.error,l=this.props,c=l.loading,p=l.title,f=l.type;return r.a.createElement(i.default,{title:p},r.a.createElement(u.default,null,r.a.createElement(o.c,{md:"6"},r.a.createElement(o.d,null,r.a.createElement(o.e,null,"Fee Type"),r.a.createElement(o.f,{value:n,onChange:function(t){e.setState({fee_type:t.target.value})},placeholder:"Fee Type"}),a&&r.a.createElement(s.a,{text:a})))),r.a.createElement(u.default,null,r.a.createElement(o.c,{md:"6"},r.a.createElement(o.d,null,"add"==f?r.a.createElement("span",null,0==c?r.a.createElement(o.a,{onClick:this.submit,primary:!0,sm:!0},"Add"):r.a.createElement(o.a,{primary:!0,sm:!0},"Adding ..")):r.a.createElement("span",null,0==c?r.a.createElement(o.a,{onClick:this.submit,primary:!0,sm:!0},"Edit"):r.a.createElement(o.a,{primary:!0,sm:!0},"Editing .."))))))}}]),n}(a.Component)}}]);