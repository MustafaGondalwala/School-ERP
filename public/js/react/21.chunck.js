(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{363:function(t,e,n){"use strict";n.r(e);var a=n(13),r=n.n(a),l=n(0),o=n.n(l),c=n(2),i=n(3),s=n(5),u=n.n(s),f=n(1),m=n(7),p=n(47);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e,n,a,r,l,o){try{var c=t[l](o),i=c.value}catch(t){return void n(t)}c.done?e(i):Promise.resolve(i).then(a,r)}function b(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=_(t);if(e){var r=_(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return E(this,n)}}function E(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(p,t);var e,n,a,l,s,m=v(p);function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=m.call(this,t)).state={total:["Installment1","Installment2","Installment3","Installment4","Installment5","Installment6","Installment7","Installment8","Installment9","Installment10","Installment11","Installment12"],total_installment:[],errors:{},button_text:"Update"},e}return e=p,(n=[{key:"componentDidMount",value:(l=r.a.mark((function t(){var e,n,a,l,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.props,n=e.setFeeInstallmentsDispatch,a=e.total_installment,0!=Object.keys(a).length){t.next=10;break}return t.next=4,n();case 4:l=t.sent,o=[],l.map((function(t){o.push(t.installment)})),this.setState({total_installment:o}),t.next=13;break;case 10:c=[],a.map((function(t){c.push(t.installment)})),this.setState({total_installment:c});case 13:case"end":return t.stop()}}),t,this)})),s=function(){var t=this,e=arguments;return new Promise((function(n,a){var r=l.apply(t,e);function o(t){y(r,n,a,o,c,"next",t)}function c(t){y(r,n,a,o,c,"throw",t)}o(void 0)}))},function(){return s.apply(this,arguments)})},{key:"onChange",value:function(t){var e=this,n=this.state.total_installment;if(t.target.checked)n.push(t.target.name);else{var a=[];n.map((function(e){e!==t.target.name&&a.push(e)})),n=a}this.setState({total_installment:n,errors:{}},(function(){console.log(e.state.total_installment)}))}},{key:"onSubmit",value:function(){var t=this.state.total_installment;0==t.length?u.a.fire("Validation Error","Please select atleast One Installment","warning"):i.a.adminclerk.fee.update_installments(t).then((function(t){u.a.fire("Success","Fee Installments Updated!!","success")})).catch((function(t){u.a.fire("Error Occurred","Please try again later..","error")}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.total,a=e.button_text,r=e.total_installment;return o.a.createElement(c.default,{title:"Set Installments",back_link:"/admin/fees"},o.a.createElement("div",{className:"row col-md-4"},o.a.createElement(f.o,null,o.a.createElement(f.p,null,o.a.createElement("th",null,"Installment"),o.a.createElement("th",null,"Enabled/Disabled")),o.a.createElement("tbody",null,r&&n.map((function(e){return r.indexOf(e)>-1?o.a.createElement("tr",null,o.a.createElement("td",null,e),o.a.createElement("td",null,o.a.createElement("input",{name:e,value:e||"",checked:!0,onChange:function(e){return t.onChange(e)},type:"checkbox"}))):o.a.createElement("tr",null,o.a.createElement("td",null,e),o.a.createElement("td",null,o.a.createElement("input",{name:e,value:e||"",onChange:function(e){return t.onChange(e)},type:"checkbox"})))})))),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return t.onSubmit()}},a))))}}])&&b(e.prototype,n),a&&b(e,a),p}(l.Component);e.default=Object(m.b)((function(t){return{total_installment:t.installments}}),{setFeeInstallmentsDispatch:p.a})(w)}}]);