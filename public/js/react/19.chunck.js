(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{364:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var a=n(0),r=n.n(a),s=n(2),o=n(3),i=n(5),c=n.n(i),l=n(92),u=n.n(l);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){y(n,e);var t=h(n);function n(e){var a;return p(this,n),(a=t.call(this,e)).state={fee_class_wise:"",updateClassWise:[],update_button:"Update Fees"},a.feeTypeAmount=a.feeTypeAmount.bind(v(a)),a.updateClassWiseFee=a.updateClassWiseFee.bind(v(a)),a}return d(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fee_class_wise,n=e.class_id,a=e.year_id;this.setState({fee_class_wise:t,class_id:n,year_id:a})}},{key:"feeTypeAmount",value:function(e,t,n){var a=e.target.value,r=this.state.fee_class_wise;r[t][n].amount=a,this.setState({fee_class_wise:r})}},{key:"updateClassWiseFee",value:function(e){var t=this;e.fee_class_wise=this.state.fee_class_wise,e.class_id=this.state.class_id,e.year_id=this.state.year_id,o.a.adminclerk.fee.update_class_wise_fees(e).then((function(e){t.setState({fee_class_wise:e.fee_class_wise,update_button:"Updating Fees ..."}),c.a.fire("Done","Fee Class Wise Updated !!","success")})).catch((function(e){c.a.fire("Error Occured","Error Occured while processing the data.","error"),t.setState({update_button:"Update Fees"})}))}},{key:"render",value:function(){var e=this,t=this.state.fee_class_wise;return r.a.createElement("div",null,t&&Object.keys(t).map((function(n,a){return r.a.createElement(g,{installment_label:n,feeTypeAmount:e.feeTypeAmount,installment_wise:t[n]})})),t&&r.a.createElement(k,{update_button:this.state.update_button,updateClassWiseFee:this.updateClassWiseFee}))}}]),n}(a.Component),g=function(e){var t=e.installment_label,n=e.installment_wise,a=e.feeTypeAmount;return r.a.createElement(s.default,{key:u.a.generate(),title:"".concat(t," Fees:")},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Sr No."),r.a.createElement("th",null,"Fee Type"),r.a.createElement("th",null,"Amount"))),r.a.createElement("tbody",null,n.map((function(e,n){return r.a.createElement("tr",{key:u.a.generate()},r.a.createElement("td",null,n+1),r.a.createElement("td",null,e.fee_type.fee_type),r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"0","data-fee_type_id":e.fee_type_id,className:"form-control",onChange:function(e){return a(e,t,n)},value:e.amount})))}))))))},k=function(e){y(n,e);var t=h(n);function n(e){var a;return p(this,n),(a=t.call(this,e)).state={overwrite:!1,send_message:!0},a}return d(n,[{key:"handleChange",value:function(e){var t,n,a;this.setState((t={},n=e.target.name,a=e.target.checked,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.overwrite,a=t.send_message,o=this.props.update_button;return r.a.createElement(s.default,{title:"Update Class Wise Fees"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"checkbox-inline"},r.a.createElement("input",{type:"checkbox",checked:n,onChange:function(t){return e.handleChange(t)},name:"overwrite"}),"  Overwrite Existing Indivitual Student Fee"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"checkbox-inline"},r.a.createElement("input",{type:"checkbox",checked:a,onChange:function(t){return e.handleChange(t)},name:"send_message"}),"  Send Message to Parents"))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(t){return e.props.updateClassWiseFee({overwrite:n,send_message:a})}},o)))}}]),n}(a.Component)}}]);